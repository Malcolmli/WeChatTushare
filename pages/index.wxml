<!-- <mp-toptips msg="{{error}}" type="error" show="{{error}}"></mp-toptips> -->
<view class="page" data-weui-theme="{{theme}}">
  <view class="page__hd">
    <view class="page__title">Tushre</view>
    <view class="page__desc">每日Tushare大数据计算&查询</view>
  </view>
  <view class="page__bd">
    <mp-form id="form" rules="{{rules}}" models="{{formData}}">
      <mp-cells title="" footer="">
        <view class="weui-cell weui-cell_active weui-cell_select">
          <view class="weui-cell__bd">
            <picker bindchange="bindTypeChange" value="{{serachTypeIndex}}" range="{{serachType}}">
              <view class="weui-select">{{serachType[serachTypeIndex]}}</view>
            </picker>
          </view>
        </view>
        <view class="weui-cell weui-cell_active weui-cell_select">
          <view class="weui-cell__bd">
            <picker bindchange="bindTargeChange" value="{{serachTargeIndex}}" range="{{serachTarge}}">
              <view class="weui-select">{{serachTarge[serachTargeIndex]}}</view>
            </picker>
          </view>
        </view>
        <mp-cell prop="limit" title="限制" ext-class="">
          <input bindinput="formInputChange" data-field="limit" class="weui-input" type="digit" placeholder="请输入数字" />
        </mp-cell>
        <mp-cell prop="date" title="日期" ext-class="">
          <picker data-field="date" mode="date" value="{{dateValue}}" start="2020-01-01" bindchange="bindDateChange">
            <view class="weui-input">{{dateValue}}</view>
          </picker>
        </mp-cell>
      </mp-cells>
    </mp-form>
    <view class="search-btn">
      <button class="weui-btn" type="primary" bindtap="searchbtn">查询</button>
    </view>
    <view wx:if="{{resultshow}}" class="weui-cells weui-cells_after-title">
      <view wx:for="{{array}}" wx:key="tsCode">
        <navigator
          url="./component/detail?name={{item.name}}&tsCode={{item.tsCode}}&tsName={{item.tsName}}&netBuy={{item.netBuy}}&count15={{item.count15}}&win15To23={{item.win15To23}}&win15To24={{item.win15To24}}&count30={{item.count30}}&win30To23={{item.win30To23}}&win30To24={{item.win30To24}}"
          class="weui-cell weui-cell_access" hover-class="weui-cell_active">
          <view class="weui-cell__bd">{{item.tsName}}</view>
          <view class="weui-cell__ft weui-cell__ft_in-access">{{item.win15To23}}-{{item.win15To24}}</view>
        </navigator>
      </view>
    </view>
  </view>
</view>